<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 400">
  <!-- Title -->
  <text x="400" y="30" font-size="20" font-weight="bold" text-anchor="middle" fill="#333">
    Gazebo-ROS 2-Unity Data Flow Pipeline
  </text>

  <!-- Gazebo Box -->
  <rect x="50" y="100" width="180" height="200" fill="#4A90E2" stroke="#2E5C8A" stroke-width="2" rx="5"/>
  <text x="140" y="130" font-size="18" font-weight="bold" text-anchor="middle" fill="white">Gazebo</text>
  <text x="140" y="155" font-size="14" text-anchor="middle" fill="white">Physics Engine</text>

  <!-- Gazebo Components -->
  <text x="60" y="185" font-size="12" fill="white">• Physics Simulation</text>
  <text x="60" y="205" font-size="12" fill="white">• Collision Detection</text>
  <text x="60" y="225" font-size="12" fill="white">• Sensor Simulation</text>
  <text x="60" y="245" font-size="12" fill="white">• World Environment</text>
  <text x="60" y="265" font-size="12" fill="white">• Robot Dynamics</text>

  <!-- ROS 2 Box -->
  <rect x="310" y="100" width="180" height="200" fill="#50C878" stroke="#2E7D4E" stroke-width="2" rx="5"/>
  <text x="400" y="130" font-size="18" font-weight="bold" text-anchor="middle" fill="white">ROS 2</text>
  <text x="400" y="155" font-size="14" text-anchor="middle" fill="white">Middleware</text>

  <!-- ROS 2 Topics -->
  <text x="320" y="185" font-size="12" fill="white">Topics:</text>
  <text x="320" y="205" font-size="11" fill="white">• /joint_states</text>
  <text x="320" y="223" font-size="11" fill="white">• /tf (transforms)</text>
  <text x="320" y="241" font-size="11" fill="white">• /camera/image_raw</text>
  <text x="320" y="259" font-size="11" fill="white">• /imu/data</text>
  <text x="320" y="277" font-size="11" fill="white">• /scan (lidar)</text>

  <!-- Unity Box -->
  <rect x="570" y="100" width="180" height="200" fill="#9B59B6" stroke="#6C3483" stroke-width="2" rx="5"/>
  <text x="660" y="130" font-size="18" font-weight="bold" text-anchor="middle" fill="white">Unity</text>
  <text x="660" y="155" font-size="14" text-anchor="middle" fill="white">Rendering Engine</text>

  <!-- Unity Components -->
  <text x="580" y="185" font-size="12" fill="white">• 3D Visualization</text>
  <text x="580" y="205" font-size="12" fill="white">• UI Overlays</text>
  <text x="580" y="225" font-size="12" fill="white">• Human Avatars</text>
  <text x="580" y="245" font-size="12" fill="white">• Camera Views</text>
  <text x="580" y="265" font-size="12" fill="white">• Scene Rendering</text>

  <!-- Arrow 1: Gazebo to ROS 2 -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
    </marker>
  </defs>

  <line x1="230" y1="200" x2="310" y2="200" stroke="#666" stroke-width="3" marker-end="url(#arrowhead)"/>
  <text x="270" y="190" font-size="11" text-anchor="middle" fill="#333">Publish</text>
  <text x="270" y="220" font-size="10" text-anchor="middle" fill="#666">Robot State</text>

  <!-- Arrow 2: ROS 2 to Unity -->
  <line x1="490" y1="200" x2="570" y2="200" stroke="#666" stroke-width="3" marker-end="url(#arrowhead)"/>
  <text x="530" y="190" font-size="11" text-anchor="middle" fill="#333">TCP/IP</text>
  <text x="530" y="220" font-size="10" text-anchor="middle" fill="#666">Subscribe</text>

  <!-- Data Flow Labels -->
  <text x="140" y="330" font-size="11" font-weight="bold" fill="#333">100+ Hz</text>
  <text x="140" y="345" font-size="10" fill="#666">Physics Update</text>

  <text x="400" y="330" font-size="11" font-weight="bold" fill="#333">DDS/TCP</text>
  <text x="400" y="345" font-size="10" fill="#666">Message Broker</text>

  <text x="660" y="330" font-size="11" font-weight="bold" fill="#333">30+ FPS</text>
  <text x="660" y="345" font-size="10" fill="#666">Render Update</text>

  <!-- Latency Note -->
  <rect x="250" y="360" width="300" height="30" fill="#FFF3CD" stroke="#FFC107" stroke-width="1" rx="3"/>
  <text x="400" y="380" font-size="12" text-anchor="middle" fill="#856404">Target Latency: &lt;100ms (Gazebo → Unity)</text>
</svg>
